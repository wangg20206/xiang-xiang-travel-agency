<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>會員登入 | Xxiang 全台最大日本自由行</title>

  <!-- 共用樣式（你的主站 styles.css） -->
  <link rel="stylesheet" href="styles.css">

  <style>
    /* 讓登入頁跟主站視覺一致：字型、背景、版心寬度皆沿用 */
    body.auth-page{
      font-family: Arial, sans-serif;
      background: #f0f0f094;      /* 用你主站背景 */
      display: grid;
      grid-template-rows: auto 1fr auto; /* header / content / footer */
      min-height: 100vh;
    }
    /* 版心寬度與 .navbar-content / .menu-content 一致（65%） */
    .container-65{
      max-width: 65%;
      width: 100%;
      margin: 0 auto;
    }
    .auth-wrap{ padding: 36px 16px 72px; }
    /* 卡片風格更輕、更像內頁段落 */
    .auth-card{
      background: #fff;
      border: 1px solid #eee;
      border-radius: 14px;
      box-shadow: 0 6px 18px rgba(0,0,0,.06);
      padding: 20px;
    }
    .auth-title{
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 6px;
      color: #1f2937;
      letter-spacing: .2px;
    }
    .auth-sub{ color:#6b7280; font-size:14px; margin-bottom: 14px; }

    /* 動作區與按鈕：配合站內色 #0799fa */
    .auth-actions{ display:flex; gap:10px; align-items:center; }
    .gbtn, .logout{
      appearance: none;
      border-radius: 10px;
      border: 1px solid #e5e7eb;
      background: #fff;
      padding: 8px 12px;
      font-weight: 600;
      cursor: pointer;
      transition: box-shadow .2s, transform .2s, background .2s, border-color .2s;
    }
    .gbtn:hover{ box-shadow: 0 6px 14px rgba(0,0,0,.08); transform: translateY(-1px); }
    .logout{ background:#f9fafb; }
    .logout:hover{ background:#eef7ff; border-color:#bfe4ff; }
    .g-logo{ width:18px; height:18px; vertical-align:-3px; margin-right:8px; }

    /* 登入後資訊區 */
    .auth-user{
      display:none;
      margin-top:14px;
      padding-top:14px;
      border-top: 1px dashed #e5e7eb;
    }
    .auth-user-row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    .avatar{ width:48px; height:48px; border-radius:50%; border:1px solid #e5e7eb; object-fit:cover; }
    .email{ color:#666; font-size: 14px; }
    .badge{
      background:#e0f2ff; color:#0799fa; font-weight:700; font-size:12px;
      padding:2px 8px; border-radius:999px; margin-left:8px;
    }

    /* 狀態字在卡片下作為輕提示 */
    .auth-status{ color:#6b7280; font-size:12px; margin-top:10px; }

    /* 手機：維持同感覺但放寬邊距 */
    @media (max-width: 1024px){ .container-65{ max-width: 88%; } }
    @media (max-width: 768px){
      .auth-wrap{ padding: 20px 12px 56px; }
      .auth-card{ padding: 16px; }
    }
  </style>
</head>
<body class="auth-page">
  <!-- 共用 header 注入 -->
  <div id="header-container"></div>

  <main class="auth-wrap">
    <section class="container-65">
      <div class="auth-card">
        <h1 class="auth-title">登入你的帳號</h1>
        <p class="auth-sub">使用 Google 安全登入以進入會員功能</p>

        <div class="auth-actions">
          <button id="loginBtn" class="gbtn" aria-label="使用 Google 登入">
            <svg class="g-logo" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path fill="#FFC107" d="M43.6 20.5H42V20H24v8h11.3C33.8 32.7 29.3 36 24 36c-6.6 0-12-5.4-12-12s5.4-12 12-12c3 0 5.7 1.1 7.7 3l5.7-5.7C33.6 6.1 29 4 24 4 12.9 4 4 12.9 4 24s8.9 20 20 20 20-8.9 20-20c0-1.3-.1-2.5-.4-3.5z"/>
              <path fill="#FF3D00" d="M6.3 14.7l6.6 4.8C14.5 16.2 18.9 12 24 12c3 0 5.7 1.1 7.7 3l5.7-5.7C33.6 6.1 29 4 24 4 16.1 4 9.3 8.3 6.3 14.7z"/>
              <path fill="#4CAF50" d="M24 44c5.2 0 9.9-2 13.4-5.2l-6.2-5.2C29.2 35.5 26.8 36 24 36c-5.3 0-9.8-3.3-11.4-7.9l-6.5 5C9.1 39.7 16 44 24 44z"/>
              <path fill="#1976D2" d="M43.6 20.5H42V20H24v8h11.3c-1.3 3.7-4.5 6.4-8.3 7.2l6.2 5.2C36.3 38 40 31.9 40 24c0-1.3-.1-2.5-.4-3.5z"/>
            </svg>
            使用 Google 登入
          </button>
          <button id="logoutBtn" class="logout" style="display:none;">登出</button>
        </div>

        <!-- 使用者資訊（登入後顯示） -->
        <div id="userBox" class="auth-user">
          <div class="auth-user-row">
            <img id="photo" class="avatar" alt="頭像">
            <div>
              <div style="display:flex;align-items:center;flex-wrap:wrap;">
                <strong id="name" style="font-size:16px"></strong>
                <span class="badge">已登入</span>
              </div>
              <div id="email" class="email"></div>
            </div>
          </div>
        </div>

        <div id="status" class="auth-status">尚未登入</div>
      </div>
    </section>
  </main>

  <!-- 共用 footer 注入 -->
  <div id="footer-container"></div>

  <!-- Firebase 登入邏輯（沿用你現有的 auth.js） -->
  <script type="module" src="./auth.js"></script>

  <!-- 注入 header / footer，並保留 .news-card 點擊委派（若需要） -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // 載入 header / footer
      Promise.all([
        fetch('header.html').then(r => r.text()).then(html => (document.getElementById('header-container').innerHTML = html)),
        fetch('footer.html').then(r => r.text()).then(html => (document.getElementById('footer-container').innerHTML = html)),
      ]).catch(err => console.error('載入共用區塊失敗：', err));

      // 事件委派：點擊 .news-card（若此頁有）
      document.body.addEventListener('click', (e) => {
        const card = e.target.closest('.news-card');
        if (!card) return;
        if (e.target.closest('.btn')) return;
        const href = card.getAttribute('data-href');
        if (href) window.location.href = href;
      });
    });
  </script>
</body>
</html>
